<MTabs Class="@Class" Routable="true" ShowArrows="@Vertical" Vertical="@Vertical" BackgroundColor="transparent" ActiveClass="font-weight-bold">
    @foreach (var tab in tabs)
    {
        @if (tab.SecTabs?.Length > 0 is true)
        {
            var subs = tab.SecTabs;
            <MMenu OffsetY="true">
                <ActivatorContent>
                    <MTab @attributes=context.Attrs MatchPattern="@tab.Href" Href="javascript:void(0)" Class="pl-8 pr-6">
                        <MIcon Icon="tab.IconName" />
                        @tab.Name
                        <MIcon Icon="@MDI.chevron_down" Small="true" Class="rotate-Icon" Style="--rotate-angle:180" />
                    </MTab>
                </ActivatorContent>
                <ChildContent>
                    <MList Routable="true">
                        @foreach (var sub in subs)
                        {
                            <MListItem Href="@sub.Href" PrependIcon="@sub.IconName" Title="@sub.Name" Target="@sub.Target" Exact="true" ActiveClass="@MDS.Primary.Text()" />
                            @*                       <MTab Href="@sub.Href" Target="@sub.Target" Exact="true" >
                @sub.Name
                </MTab> *@
                        }
                    </MList>
                </ChildContent>
            </MMenu>
        }
        else
        {
            <MTab Href="@tab.Href" Target="@tab.Target" Class="px-8">
                <MIcon Icon="tab.IconName" />
                @tab.Name
            </MTab>
        }
    }
</MTabs>




@code {
    [Parameter]
    public bool Vertical { get; set; }

    [Parameter]
    public string? Class { get; set; }
}